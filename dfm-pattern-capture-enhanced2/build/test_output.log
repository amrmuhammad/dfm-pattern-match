========================================
DFM Pattern Capture Application
========================================
Layout file: test.gds
Mask layer: 1
Input layers: 2
Database: test_db
========================================
Connected to database: test_db
NOTICE:  relation "patterns" already exists, skipping
NOTICE:  relation "pattern_geometries" already exists, skipping
Parsing GDSII file: test.gds for layer 1
Record type: 0x0, data type: 0x2, length: 6
Skipped record type 0x0
Record type: 0x1, data type: 0x2, length: 16
Skipped record type 0x1
Record type: 0x2, data type: 0x6, length: 12
Skipped record type 0x2
Record type: 0x3, data type: 0x5, length: 20
UNITS: user_unit=1e-06, db_unit=1e-09, scale=0.001
Record type: 0x5, data type: 0x2, length: 16
Skipped record type 0x5
Record type: 0x6, data type: 0x6, length: 14
Skipped record type 0x6
Record type: 0x8, data type: 0x0, length: 4
Started BOUNDARY
Record type: 0xd, data type: 0x2, length: 8
LAYER: 1
Record type: 0xe, data type: 0x2, length: 8
DATATYPE: 0
Record type: 0x10, data type: 0x2, length: 44
XY: 5 points
  Point 0: (0, 0)
  Point 1: (100, 0)
  Point 2: (100, 100)
  Point 3: (0, 100)
  Point 4: (0, 0)
Record type: 0x11, data type: 0x0, length: 4
Perimeter segment 0: dx=100, dy=0, length=100, total=100
Perimeter segment 1: dx=0, dy=100, length=100, total=200
Perimeter segment 2: dx=-100, dy=0, length=100, total=300
Perimeter segment 3: dx=0, dy=-100, length=100, total=400
Added polygon to layer 1, area=10000
Record type: 0x8, data type: 0x0, length: 4
Started BOUNDARY
Record type: 0xd, data type: 0x2, length: 8
LAYER: 2
Record type: 0xe, data type: 0x2, length: 8
DATATYPE: 0
Record type: 0x10, data type: 0x2, length: 44
XY: 5 points
  Point 0: (50, 50)
  Point 1: (150, 50)
  Point 2: (150, 150)
  Point 3: (50, 150)
  Point 4: (50, 50)
Record type: 0x11, data type: 0x0, length: 4
Skipped polygon: layer=2, datatype=0
Record type: 0x7, data type: 0x0, length: 4
Skipped record type 0x7
Record type: 0x4, data type: 0x0, length: 4
Skipped record type 0x4
Loaded 1 polygons from GDSII layer 1 in file test.gds
Loaded mask layer 1 with 1 polygons

Processing mask polygon 1 (area: 10000)
Parsing GDSII file: test.gds for layer 2
Record type: 0x0, data type: 0x2, length: 6
Skipped record type 0x0
Record type: 0x1, data type: 0x2, length: 16
Skipped record type 0x1
Record type: 0x2, data type: 0x6, length: 12
Skipped record type 0x2
Record type: 0x3, data type: 0x5, length: 20
UNITS: user_unit=1e-06, db_unit=1e-09, scale=0.001
Record type: 0x5, data type: 0x2, length: 16
Skipped record type 0x5
Record type: 0x6, data type: 0x6, length: 14
Skipped record type 0x6
Record type: 0x8, data type: 0x0, length: 4
Started BOUNDARY
Record type: 0xd, data type: 0x2, length: 8
LAYER: 1
Record type: 0xe, data type: 0x2, length: 8
DATATYPE: 0
Record type: 0x10, data type: 0x2, length: 44
XY: 5 points
  Point 0: (0, 0)
  Point 1: (100, 0)
  Point 2: (100, 100)
  Point 3: (0, 100)
  Point 4: (0, 0)
Record type: 0x11, data type: 0x0, length: 4
Skipped polygon: layer=1, datatype=0
Record type: 0x8, data type: 0x0, length: 4
Started BOUNDARY
Record type: 0xd, data type: 0x2, length: 8
LAYER: 2
Record type: 0xe, data type: 0x2, length: 8
DATATYPE: 0
Record type: 0x10, data type: 0x2, length: 44
XY: 5 points
  Point 0: (50, 50)
  Point 1: (150, 50)
  Point 2: (150, 150)
  Point 3: (50, 150)
  Point 4: (50, 50)
Record type: 0x11, data type: 0x0, length: 4
Perimeter segment 0: dx=100, dy=0, length=100, total=100
Perimeter segment 1: dx=0, dy=100, length=100, total=200
Perimeter segment 2: dx=-100, dy=0, length=100, total=300
Perimeter segment 3: dx=0, dy=-100, length=100, total=400
Added polygon to layer 2, area=10000
Record type: 0x7, data type: 0x0, length: 4
Skipped record type 0x7
Record type: 0x4, data type: 0x0, length: 4
Skipped record type 0x4
Loaded 1 polygons from GDSII layer 2 in file test.gds
Processing input layer 2 with 1 polygons
Performing AND operation on layer 2 with 1 polygons
Perimeter segment 0: dx=50, dy=0, length=50, total=50
Perimeter segment 1: dx=0, dy=50, length=50, total=100
Perimeter segment 2: dx=-50, dy=0, length=50, total=150
Perimeter segment 3: dx=0, dy=-50, length=50, total=200
AND operation resulted in 1 polygons
INSERT pattern failed: ERROR:  column "input_layers_numbers" of relation "patterns" does not exist
LINE 3:         (pattern_hash, mask_layer_number, input_layers_numbe...
                                                  ^

Error storing pattern: Failed to insert pattern metadata
Failed to store pattern: pattern_1_10000.00_2_1750028382

========================================
Processing Summary
========================================
Total patterns processed: 1
Successfully stored: 0
Failed: 1
========================================
